@baseUrl = http://localhost:3000

@contentType = application/json

### The basic request
GET {{baseUrl}}

### Get all tasks
# @name getAllTasks
GET {{baseUrl}}/tasks?limit=2&offset=0

### Get all in progress tasks
# @name getAllInProgress
GET {{baseUrl}}/tasks?status=IN_PROGRESS

### Get all with search query
# @name getAllWithSearch
GET {{baseUrl}}/tasks?search=NestJS

### Get all filtered by labels
# @name getAllFilteredByLabels
GET {{baseUrl}}/tasks?labels=urgent

### Get one task
GET {{baseUrl}}/tasks/{{taskId}}

### Create new task
# @name createTask
POST {{baseUrl}}/tasks
Content-Type: {{contentType}}

{
  "title": "Learn NestJS",
  "description": "Complete the NestJS course",
  "status": "OPEN",
  "userId": "fbdc6ac2-4b64-4ee3-89f3-5e026627a2b8",
  "labels": [
    {
      "name": "urgent"
    }
  ]
}

### Set the task id
@taskId = {{ createTask.response.body.id }} 

### Validation Error
POST {{baseUrl}}/tasks
Content-Type: {{contentType}}

{
  "title": 1,
  "description": "",
  "status": "XXX"
}

# 130893db-0228-42a7-982c-dc9672c5d176
### Update Task Status
PATCH {{baseUrl}}/tasks/{{taskId}}
Content-Type: {{contentType}}

{
  "status": "IN_PROGRESS",
  "labels": [{
    "name": "done"
  }] 
}

# 66ca8f27-f053-4d02-8a15-f0450e37597b
### Deleting task
DELETE {{baseUrl}}/tasks/{{taskId}}
Content-Type: {{contentType}}

### Add specific labels to Task
# @name addLabels
POST {{baseUrl}}/tasks/{{taskId}}/labels
Content-Type: {{contentType}}

[
  { "name": "prioritized" },
  { "name": "bug" }
]

### Remove specific labels from task
# @name removeLabels
DELETE {{baseUrl}}/tasks/{{taskId}}/labels
Content-Type: {{contentType}}

["prioritized", "bug"]
